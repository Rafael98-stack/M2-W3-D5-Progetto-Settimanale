<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
          .background {
            animation:background 2s linear infinite alternate both
        }
        @keyframes background{0%{background:#19dcea}100%{background:#b22cff}}
        main {
            height: 100vh;
        }
    </style>
</head>
<body>
    <body class="">
        <div id="titleContainer" class=" d-flex flex-column justify-content-center align-items-center background">
    <h1 class="text-white">Il tuo prodotto</h1>
    
    </div>
    <main class="p-3 bg-dark text-white">
  
    <section id="productsContainer" class="d-flex flex-wrap justify-content-around">
       
    </main>
    <script>
        const param = new URLSearchParams(window.location.search)
        const productId = param.get("id")
        console.log("RESOURCE ID: ", productId)

        window.onload = () => {
const productContainer = document.getElementById("productsContainer")

fetch(`https://striveschool-api.herokuapp.com/api/product/${productId}` ,  {
      headers: {
      Authorization: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTRkZWU1OTI1NGU4ODAwMTgzZjE4ODciLCJpYXQiOjE2OTk2MDYxMDUsImV4cCI6MTcwMDgxNTcwNX0.juXYFskS41SPH5GU6ZS-W7usUndyOnji8VFdINzY0yQ"
      }
      })
.then(resp => resp.json())
.then(productObj => {
    productContainer.innerHTML=`
    <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="${productObj.imageUrl}" alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title">${productObj.name}</h5>
          <p class="card-text">${productObj.description}</p>
          <p class="card-text">${productObj.brand}</p>
          <p class="card-text">${productObj.price + "$"}</p>

        </div>
    `
    })
};
    </script>
</body>
</html>